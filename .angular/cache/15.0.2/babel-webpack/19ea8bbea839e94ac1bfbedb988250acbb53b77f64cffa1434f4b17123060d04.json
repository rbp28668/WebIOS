{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../p3dcmd.service\";\nimport * as i2 from \"@angular/common\";\nconst _c0 = function (a0, a1) {\n  return {\n    pressed: a0,\n    error: a1\n  };\n};\nexport class CmdbuttonComponent {\n  constructor(p3dcmd) {\n    this.p3dcmd = p3dcmd;\n    // Statuses for setting style\n    this.is_sending = false;\n    this.is_err = false;\n    this.caption = 'Unknown';\n    this.cmd = '??';\n  }\n  ngOnInit() {}\n  sendCommand() {\n    this.is_sending = true;\n    this.p3dcmd.runCommand(this.cmd).subscribe(data => {\n      console.log(\"Data\");\n      setTimeout(() => {\n        this.is_sending = false;\n      }, 100);\n    }, err => {\n      console.log(err);\n      this.is_sending = false;\n      this.is_err = true;\n      setTimeout(() => {\n        this.is_err = false;\n      }, 500); // rather longer\n    });\n  }\n}\n\nCmdbuttonComponent.ɵfac = function CmdbuttonComponent_Factory(t) {\n  return new (t || CmdbuttonComponent)(i0.ɵɵdirectiveInject(i1.P3dcmdService));\n};\nCmdbuttonComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CmdbuttonComponent,\n  selectors: [[\"cmd-button\"]],\n  inputs: {\n    caption: \"caption\",\n    cmd: \"cmd\"\n  },\n  decls: 2,\n  vars: 5,\n  consts: [[3, \"ngClass\", \"click\"]],\n  template: function CmdbuttonComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function CmdbuttonComponent_Template_button_click_0_listener() {\n        return ctx.sendCommand();\n      });\n      i0.ɵɵtext(1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(2, _c0, ctx.is_sending, ctx.is_err));\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate(ctx.caption);\n    }\n  },\n  dependencies: [i2.NgClass],\n  styles: [\"button[_ngcontent-%COMP%]{background-color:#202020;border:none;color:#fff;padding:15px;text-align:center;text-decoration:none;display:inline-block;margin:4px 2px;border-radius:10px}button.pressed[_ngcontent-%COMP%]{color:#000;background-color:#777}button.error[_ngcontent-%COMP%]{color:#000;background-color:red}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}